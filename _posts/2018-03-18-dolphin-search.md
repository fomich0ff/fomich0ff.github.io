---
title: Как починить поиск в Dolphin
tags: [kde,dolphin]
---

После многих лет использования KDE с удивлением обнаружил, что в его файловом менеджере Dolphin не работает поиск. Например, заходим в любую папку (в моём случае с фотографиями)

{% include image.html src="before-search.png" alt="Перед поиском"%}

Пытаемся найти снимки, у которых время съёмки (оно есть в имени файла в моём случае) в районе 16 часов. И не находим ничего!

{% include image.html src="broken-search.png" alt="Сломаный поиск"%}

Но самое интересное, что эта беда стара как мир.
<!--more-->

Проблема заключается в том, что за поиск в KDE отвечает пакет ```baloo```, который по умолчанию.... НЕ УСТАНОВЛЕН в системе. Видимо разработчики считают, что пользователю незачем пользоваться поиском. В каком-то смысле они правы: я поиском в дельфине никогда не пользовался до последнего времени.

Итак, давайте починим эту функцию.

1. Устанавливаем необходимые пакеты:
    ```bash
    sudo apt install baloo kde-baseapps systemsettings kfind
    ```
2. Теперь делаем финт ушами и делаем неочевидную вещь: 
    - Заходим в системные настройки
        {% include image.html src="system-settings.png" alt="Настройки" %}
    - Выбираем Search -> File Search
    - И снимаем галочку Enable File Search
        {% include image.html src="disable-file-search.png" alt="Disable File Search"%}

Теперь можно проверить работает ли поиск

{% include image.html src="working-search.png" alt="Работающий поиск" %}

В качестве послесловия могу сказать только то, что я несколько удивлён таким положением вещей. Возможно есть логическое объяснение этому факту, но, чёрт побери, не работающий из коробки поиск?! Это фиаско, братаны!