---
title: Как настроить Wi-Fi в Ubuntu Server 18.04
tags: [raspberry pi,ubuntu,wifi]
---
Захотелось мне маленький веб-сервер. Такой чтоб тихий и чтоб `wi-fi` на нём был,
чтоб можно было его где угодно воткнуть и, вуаля, - сервер готов!
`Raspberry Pi` замечательно для этого подходит! Как установить сервер на `Raspberry Pi`
описано [здесь](https://wiki.ubuntu.com/ARM/RaspberryPi). Давайте выясним как 
настроить Wi-Fi после установки.
<!--more-->

Для настройки Wi-Fi существует консольное приложение `console-conf`, которое.... не 
работает! Вот действительно не работает как надо. Чуть ли ни единственная задача у 
этого приложения -- помочь настроить Wi-Fi и создать правильный конфиг, который 
это консольное чудо создать не в силах. Ну и хрен с ней, с этой утилитой. Мы сами с 
усами!

Итак, нам необходимо создать конфиг `/etc/netplan/00-snapd-config.yaml`. Имя файла 
можно выбрать любое. Важно, чтобы он обнаруживался системой первым. `00-` в начале
имени файла вполне годится для этого.

```yaml
network:
   ethernets:
      eth0:
         dhcp4: true
         match:
            macaddress: [MAC-address]
         set-name: eth0
   version: 2
   wifis:
      wlan0:
         access-points:
            [WiFi-SSID]: {password: [Password]}
         addresses: []
         dhcp4: true
         nameservers: {}
```

В этом файле необходимо заменить следующее:

- `[MAC-address]` на `MAC-адрес` сетевой карты. Узнать этот адрес можно из команды 

    ```bash
    ip address
    ```
   
   {% include image.html src="ip-address-mac.png" alt="mac address" %}
   
- `[WiFi-SSID]` на `SSID` своей сети
- `[Password]` на пароль к Wi-Fi

Когда файл готов необходимо выполнить команду:

```bash
sudo netplan apply
```

Если ошибок никаких не вывалилось, то перезагружаемся (`sudo reboot`), 
отцепляем кабель, ждём пока загрузится и ... пингуем что-нибудь,
Google например.